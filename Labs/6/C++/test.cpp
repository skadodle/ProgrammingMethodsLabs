#include "substring.h"

void printRabinKarpTest(std::string pattern, std::string text);

int main(int argc, char *argv[]) {
    {
        std::string text = "abbaaababbaababbaabababbabababbababaaabbabbbabbabababbabaaba";
        std::string pattern = "abbabababbaba";
        for (auto& el : KMP(text, pattern)) {    
            std::cout << el << std::endl;
        }
        for (auto& el : BoyerMoore(text, pattern)) {    
            std::cout << el << std::endl;
        }
    }
    {
        std::string text1 = "In malesuada, est maximus vulputate condimentum, eros sem volutpat libero, in congue dolor quam eget ipsum. Phasellus vehicula enim ex, quis placerat risus porta nec. Aliquam vel iaculis nisi. In egestas posuere nunc, quis fermentum odio ornare sed. Sed cursus nisl mauris, vel lobortis nisl mattis id. Fusce euismod tincidunt felis nec pharetra. Ut sed facilisis ante. Nulla venenatis nulla ac sodales ornare. Nulla malesuada sollicitudin neque id sagittis. Aliquam scelerisque mauris nec turpis posuere efficitur. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In eleifend mattis urna in cursus. Nulla blandit interdum elementum. Praesent interdum nulla in ullamcorper egestas. Integer odio arcu, maximus nec malesuada eget, laoreet sed purus. Fusce pharetra quam molestie arcu pulvinar, vitae porttitor urna tristique. Donec consectetur aliquet felis. Phasellus egestas odio nec quam dictum, nec sagittis urna porttitor. Pellentesque sollicitudin pulvinar metus, quis aliquam lectus. Phasellus lacinia mauris sit amet lorem dignissim, ac convallis elit ullamcorper.";

        std::string text2 = "Vestibulum vel tincidunt odio. Proin ut blandit arcu. Sed tincidunt lorem ut lacus condimentum auctor. Integer sit amet cursus nisi. In hac habitasse platea dictumst. Sed feugiat ex id consequat maximus. Pellentesque in tristique orci. Morbi consequat pellentesque rhoncus. Aenean.";
        
        std::string text3 = "Donec quis sapien condimentum, mattis ipsum sit amet, placerat enim. Praesent ornare enim vel velit tempor, quis convallis diam consectetur. Nulla ante sem, semper quis dui ac, tristique semper arcu. Curabitur vel tristique felis. Phasellus ut fermentum arcu. Suspendisse orci ipsum, laoreet vel tortor a, volutpat ultricies metus. Integer pulvinar mollis aliquam. Praesent vitae placerat tellus. Duis consectetur lectus nec ante ultricies sollicitudin. Phasellus pellentesque mauris quis neque consectetur aliquet. Integer eu neque rutrum, dignissim justo ac, feugiat lacus. Mauris egestas euismod ligula in luctus. Proin et metus placerat leo blandit imperdiet id ut leo. Vestibulum eleifend diam nibh, ac dignissim mauris gravida ac. Aenean lacinia consectetur orci, ac convallis mauris volutpat et. Nulla eget nibh sit amet leo fermentum efficitur. Proin at iaculis nisi. Aliquam pretium est at erat commodo rhoncus. Cras rhoncus, est non rhoncus efficitur, tortor massa sagittis eros, vitae vehicula neque lorem sed metus. Vestibulum molestie massa commodo augue cursus, sed bibendum orci sodales. Cras finibus imperdiet ipsum, vitae viverra lorem fermentum non. Nulla ligula ipsum, eleifend in metus quis, aliquet efficitur odio. Suspendisse aliquam dolor eu ullamcorper tempor. Nullam nunc ipsum, faucibus vel sagittis eget, hendrerit a arcu. Praesent vitae tempor turpis, id euismod massa. In sed semper leo. Ut ornare egestas purus, sit amet luctus est. Pellentesque vulputate nisl odio. Sed laoreet odio a euismod sagittis. Quisque id maximus mi. Aliquam id luctus massa. Fusce vestibulum dictum tortor. Vivamus non porta ipsum, non pulvinar urna. Mauris purus ex, cursus id blandit vitae, aliquam malesuada ligula. Sed quis risus laoreet, faucibus velit accumsan, mattis nisi. Sed vitae quam massa. Integer tristique mi non leo rutrum, eget vehicula massa rutrum. Aliquam tempor vitae felis nec sollicitudin. Vivamus vitae scelerisque enim. Integer vel ipsum quam. Morbi pellentesque viverra tellus vel cursus. Quisque odio dolor, consectetur luctus ipsum id, ornare cursus enim. Ut nisi erat, pharetra vitae molestie eget, interdum auctor libero. Morbi iaculis aliquet velit, at posuere ex eleifend at. Phasellus laoreet consectetur aliquet. Nullam in tincidunt neque. Sed urna elit, condimentum nec pellentesque sed, venenatis quis orci. Nam sodales turpis eget iaculis tristique. Maecenas diam lacus, tincidunt vitae nisl nec, mollis fermentum dui. Nunc vel rhoncus leo, sed lobortis nunc. Donec pharetra quam commodo libero tristique vulputate eget euismod est. Ut convallis est sit amet ante consectetur accumsan. Vestibulum nec ullamcorper augue. Aenean ornare, ex eu facilisis commodo, massa sapien tristique est, ut dignissim mauris ante nec erat. Nunc rhoncus elit sit amet feugiat egestas. Nam accumsan ante orci, eget rhoncus quam commodo non. Nulla ac fermentum nunc, ac molestie neque. Aliquam ac dolor felis. Proin vitae lectus mauris. Nunc eget lacus elementum, ullamcorper mauris eu, aliquet lorem. Etiam hendrerit imperdiet arcu, eget eleifend dolor tempor et. Suspendisse imperdiet malesuada arcu, quis imperdiet dui. Sed mi tortor, rutrum nec dui sit amet, blandit venenatis justo. Praesent mollis, ex sit amet ultricies mattis, orci orci vestibulum felis, nec mollis neque augue a est. Proin luctus lacus nec orci porttitor vestibulum et maximus magna. Mauris nulla dolor, feugiat fringilla tellus et, luctus maximus lorem. Curabitur cursus ullamcorper sapien ac gravida. Aenean vitae iaculis urna, quis bibendum magna. Donec tempor nulla eget metus congue, in pulvinar tortor facilisis. Sed ultrices, massa eu pulvinar gravida, sem dolor convallis elit, sit amet euismod elit velit sit amet risus. Vestibulum in aliquam magna. Etiam nec odio ipsum. Donec porttitor tortor massa, non ultrices enim faucibus in. Fusce pharetra elit vitae iaculis euismod. In dui eros, posuere vel diam eu, placerat suscipit ante. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Sed ac eleifend tortor. Vestibulum tincidunt tellus vel massa facilisis, vitae blandit massa pretium. Cras libero leo, tincidunt vel felis sit amet, accumsan commodo turpis. Etiam imperdiet ex nec nisl ullamcorper aliquam. Praesent tempus tellus ligula, ac dapibus nulla egestas et. Sed quis elit in nulla tristique mattis sit amet in erat. Mauris a posuere tellus. Nam at dui elit. In ultrices dolor ut ipsum commodo, venenatis interdum leo ornare. Donec ac tincidunt turpis. Donec vel arcu finibus, accumsan est id, condimentum orci. Sed eu sem et eros sollicitudin vestibulum eget in quam. Sed tristique leo et tempor tristique. Suspendisse vestibulum velit enim. Donec augue ligula, varius mattis nunc at, consequat finibus lorem. Aenean fermentum justo ac quam egestas, in pharetra diam accumsan. In ultrices diam at mauris pharetra, nec pellentesque erat pretium. Aliquam ullamcorper felis ac ex elementum iaculis. Praesent euismod leo nec orci accumsan, quis imperdiet nibh accumsan. Morbi quis malesuada tortor, at sagittis sem. Vestibulum consequat sit amet magna sit amet accumsan. Aenean eget sodales risus, condimentum lacinia sem. In quis quam volutpat, fringilla leo nec, vehicula libero. Suspendisse ut urna non ante fringilla vulputate. Aliquam quis venenatis nisi, quis blandit nibh. Morbi venenatis et metus non faucibus. Praesent ante lorem, laoreet quis porttitor eget, scelerisque sit amet felis. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Integer gravida eros eu purus malesuada, ut bibendum leo consequat. Proin scelerisque maximus felis quis pharetra. Nam venenatis purus et sagittis euismod. Ut eleifend dui vel ultricies tincidunt. Etiam et lectus sapien. Nulla auctor scelerisque dolor et malesuada. Aliquam ornare odio a congue venenatis. Nunc in nibh et odio euismod efficitur. Pellentesque condimentum ornare turpis ut eleifend. Donec eget magna et mi suscipit rutrum. Mauris nec luctus nulla. Nullam mi sem, auctor quis nisl sed, consequat imperdiet enim. Donec finibus nisl sit amet mollis interdum. Suspendisse eget dapibus lacus. Ut porta fermentum arcu in efficitur. In sit amet accumsan nunc. Phasellus et rutrum risus, vitae maximus ex. Nulla erat velit, dapibus at porttitor vitae, gravida id lacus. Cras tempus est et pharetra euismod. Vestibulum luctus posuere dignissim. Ut eget laoreet enim. Phasellus eget mattis neque, et tristique ipsum. Maecenas ut auctor leo. Integer sodales mi lectus, ut posuere nulla hendrerit vitae. Nam tempus fermentum elementum. Proin egestas magna sed risus consequat faucibus. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Phasellus vitae elit viverra, facilisis arcu quis, viverra nibh. Morbi interdum vehicula turpis, sed vehicula ante aliquet ut. Vestibulum aliquet laoreet ante non sollicitudin. Integer nec posuere sem. Proin ac nulla imperdiet, consectetur justo nec, fermentum nisi. Sed pharetra, mi ut egestas scelerisque, enim sapien lobortis lorem, consectetur gravida eros leo a risus. Sed elementum consequat nulla non laoreet. Quisque pharetra felis metus, id viverra dolor condimentum et. Fusce mollis velit non leo sollicitudin gravida. Ut ut tortor id velit ornare commodo euismod suscipit enim. Phasellus metus turpis, vehicula et tincidunt at, luctus consequat leo. Curabitur sit amet augue pulvinar, porttitor massa ac, viverra urna Etiam tristique, nulla vitae rhoncus suscipit, turpis neque semper libero, sit amet fringilla nisl nunc nec leo. Donec eleifend tortor in felis auctor interdum. Nam mollis finibus erat a venenatis. Pellentesque in orci a ipsum consequat efficitur et eget urna. Vivamus et purus fermentum, semper massa vulputate, lobortis sapien. Etiam sollicitudin, ex vel accumsan malesuada, nunc sem dignissim augue, non mollis ligula elit in erat. Vivamus justo orci, pellentesque iaculis dui ac, efficitur tempus odio. Proin accumsan ligula sit amet felis eleifend, at lobortis risus efficitur. Nunc in eleifend eros. Donec accumsan vitae ipsum sed eleifend. Cras ac lacus ut lectus pellentesque eleifend. Curabitur est sem, aliquam eget pulvinar quis, sodales et mi. Quisque ac dictum enim. Vestibulum bibendum ante vel pretium efficitur. Nullam sem nunc, tincidunt cursus nulla gravida, congue hendrerit quam. Donec ac elit posuere erat pulvinar ultricies non vel tortor. Nulla accumsan, velit vitae molestie aliquam, neque orci efficitur nibh.";

        std::string text4 = "oxoxoxooxoxoxoxooxoxoxooxoxoxoxooxoxoxooxoxoy";

        std::string pattern1 = "odio";
        std::string pattern2 = "tincidunt";
        std::string pattern3 = "vehicula";
        std::string pattern4 = "oy";

        printRabinKarpTest(text1, pattern1);
        printRabinKarpTest(text2, pattern2);
        printRabinKarpTest(text3, pattern3);
        printRabinKarpTest(text4, pattern4);
    }
}

void printRabinKarpTest(std::string text, std::string pattern) {
    std::cout << pattern << ": ";
    auto vc = RabinKarp(text, pattern);
    if (!vc.empty()) {
        for (auto& el : vc) {
            std::cout << el << "\t";
        }
        std::cout << std::endl;
    }
}